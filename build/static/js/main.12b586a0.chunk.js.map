{"version":3,"sources":["components/UI/Modal/MyModal.module.css","components/UI/Loader/MyLoader.module.css","components/UI/Input/MyInput.module.css","components/UI/Button/MyButton.module.css","API/PostService.jsx","hooks/usePosts.jsx","components/UI/Input/MyInput.jsx","components/UI/Button/MyButton.jsx","components/PostFrom.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/Select/MySelect.jsx","components/PostFilter.jsx","components/UI/Modal/MyModal.jsx","components/UI/Loader/MyLoader.jsx","App.jsx","index.js"],"names":["module","exports","PostService","axios","get","respond","data","useSortedPosts","posts","sort","useMemo","arr","a","b","String","localeCompare","sortPost","MyInput","props","className","classes","myInp","MyButton","children","myBtn","PostFrom","create","useState","title","body","post","setPost","value","type","placeholder","onChange","e","target","onClick","preventDefault","newPost","id","Date","now","PostItem","remove","number","PostList","length","style","textAlign","TransitionGroup","map","index","CSSTransition","timeout","classNames","MySelect","options","defaultValue","event","disabled","option","name","PostFilter","filter","setFilter","query","marginTop","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","stopPropagation","myModalContent","MyLoader","cl","loaderWraper","loader","App","setPosts","modal","setModal","isLoading","setIsLoading","sortedAndSearchedPosts","sortedPosts","p","toLowerCase","includes","usePosts","fetchPost","getAll","useEffect","ReactDOM","render","document","getElementById"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,eAAiB,gCAAgC,OAAS,0B,mBCA/GD,EAAOC,QAAU,CAAC,OAAS,yBAAyB,OAAS,yBAAyB,aAAe,iC,mBCArGD,EAAOC,QAAU,CAAC,MAAQ,yB,mBCA1BD,EAAOC,QAAU,CAAC,MAAQ,0B,+JCCLC,E,kIACpB,oGACuBC,IAAMC,IAAI,8CADjC,cACOC,EADP,yBAEQA,EAAQC,MAFhB,2C,6DCSYC,EAAiB,SAACC,EAAOC,GASpC,OARoBC,mBAAQ,WAC1B,OAAGD,EAZU,SAACE,EAAKF,GAOrB,OANAE,EAAIF,MAAK,SAACG,EAAEC,GACZ,MAAsB,kBAAZD,EAAEH,IAAyC,kBAAZI,EAAEJ,GAClCG,EAAEH,GAAQI,EAAEJ,GACdK,OAAOF,EAAEH,IAAOM,cAAcD,OAAOD,EAAEJ,QAGvCE,EAMIK,CAAS,YAAIR,GAAQC,GAGvBD,IACN,CAACC,EAAMD,K,+BCVGS,EANC,SAACC,GACf,OACE,mCAAOC,UAAWC,IAAQC,OAAWH,K,wCCM1BI,EARE,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,SAAaL,EAAU,iBACxC,OACE,kDAAYA,GAAZ,IAAmBC,UAAWC,IAAQI,MAAtC,SACGD,MC8BQE,EAhCE,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAEjB,EAAwBC,mBAAS,CAACC,MAAO,GAAIC,KAAM,KAAnD,mBAAOC,EAAP,KAAaC,EAAb,KAWA,OACF,iCACQ,cAAC,EAAD,CACEC,MAAOF,EAAKF,MACZK,KAAK,OACLC,YAAY,mDACZC,SAAU,SAAAC,GAAC,OAAIL,EAAQ,2BAAID,GAAL,IAAWF,MAAOQ,EAAEC,OAAOL,YAEnD,cAAC,EAAD,CACEA,MAAOF,EAAKD,KACZM,SAAU,SAAAC,GAAC,OAAIL,EAAQ,2BAAID,GAAL,IAAWD,KAAMO,EAAEC,OAAOL,UAChDC,KAAK,OACLC,YAAY,qDAEd,cAAC,EAAD,CAAUI,QAvBG,SAACF,GAClBA,EAAEG,iBACF,IAAMC,EAAO,2BACRV,GADQ,IACFW,GAAIC,KAAKC,QAEpBjB,EAAOc,GACPT,EAAQ,CAACH,MAAO,GAAIC,KAAM,MAiBtB,kECVOe,EAlBE,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,OAAQf,EAAiB,EAAjBA,KAAiB,EAAXgB,OAC7B,OACE,8BACE,sBAAK3B,UAAU,OAAf,UACE,sBAAKA,UAAU,eAAf,UACA,uCAAUW,EAAKW,GAAf,KAAqBX,EAAKF,SACxB,8BACGE,EAAKD,UAGV,qBAAKV,UAAU,YAAf,SACA,cAAC,EAAD,CAAUmB,QAAS,kBAAMO,EAAOf,IAAhC,uB,gBCYKiB,EAvBE,SAAC,GAAoB,IAAnBvC,EAAkB,EAAlBA,MAAOqC,EAAW,EAAXA,OAEtB,OAAIrC,EAAMwC,OAIR,gCACE,oBAAIC,MAAO,CAACC,UAAW,UAAvB,uFACA,cAACC,EAAA,EAAD,UACC3C,EAAM4C,KAAI,SAACtB,EAAMuB,GAAP,OACT,cAACC,EAAA,EAAD,CAEEC,QAAS,IACTC,WAAW,OAHb,SAKE,cAAC,EAAD,CAAUX,OAAQA,EAAQC,OAAQO,EAAM,EAAGvB,KAAMA,KAJ5CA,EAAKW,YART,oBAAIQ,MAAO,CAACC,UAAW,UAAvB,qGCUEO,EAdE,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,aAAc3B,EAAqB,EAArBA,MAAOG,EAAc,EAAdA,SAC/C,OACE,yBACEH,MAAOA,EACPG,SAAU,SAAAyB,GAAK,OAAIzB,EAASyB,EAAMvB,OAAOL,QAF3C,UAIE,wBAAQ6B,UAAQ,EAAhB,SAAkBF,IACjBD,EAAQN,KAAI,SAACU,GAAD,OAAY,wBAA2B9B,MAAO8B,EAAO9B,MAAzC,SAAiD8B,EAAOC,MAA3CD,EAAO9B,cCkBpCgC,EAtBI,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,UAC3B,OACE,gCACE,cAAC,EAAD,CACElC,MAAOiC,EAAOE,MACdjC,YAAY,iCACZC,SAAU,SAAAC,GAAC,OAAI8B,EAAU,2BAAID,GAAL,IAAaE,MAAO/B,EAAEC,OAAOL,YAEvD,oBAAIiB,MAAO,CAACmB,UAAW,UACvB,cAAC,EAAD,CACET,aAAa,+DACb3B,MAAOiC,EAAOxD,KACd0B,SAAU,SAAA1B,GAAI,OAAIyD,EAAU,2BAAID,GAAL,IAAaxD,KAAMA,MAC9CiD,QAAS,CACP,CAAC1B,MAAO,KAAM+B,KAAM,MACpB,CAAC/B,MAAO,QAAS+B,KAAM,0DACvB,CAAC/B,MAAO,OAAQ+B,KAAM,2D,iBCFjBM,EAfC,SAAC,GAAqC,IAApC9C,EAAmC,EAAnCA,SAAU+C,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,WAE7BC,EAAc,CAACpD,IAAQqD,SAI7B,OAHGH,GACDE,EAAYE,KAAKtD,IAAQuD,QAGzB,qBAAKrC,QAAS,SAAAF,GAAC,OAAImC,GAAW,IAAQpD,UAAWqD,EAAYI,KAAK,KAAlE,SACC,qBAAKtC,QAAS,SAAAF,GAAC,OAAIA,EAAEyC,mBAAoB1D,UAAWC,IAAQ0D,eAA5D,SACGvD,O,iBCFOwD,EARE,WAChB,OACC,qBAAK5D,UAAW6D,IAAGC,aAAnB,SACC,qBAAK9D,UAAW6D,IAAGE,Y,MCgDPC,MAzCf,WACE,MAA0BxD,mBAAS,IAAnC,mBAAOnB,EAAP,KAAc4E,EAAd,KACA,EAA4BzD,mBAAS,CAAClB,KAAM,GAAI0D,MAAO,KAAvD,mBAAOF,EAAP,KAAeC,EAAf,KACA,EAA0BvC,oBAAS,GAAnC,mBAAO0D,EAAP,KAAcC,EAAd,KACA,EAAkC3D,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KAEMC,EVKgB,SAACjF,EAAOC,EAAM0D,GAElC,IAAMuB,EAAcnF,EAAeC,EAAOC,GAU5C,OARiCC,mBAAQ,WACvC,OAAOgF,EAAYzB,QAAO,SAAC0B,GACzB,OAAOA,EAAE/D,MAAMgE,cAAcC,SAAS1B,EAAMyB,gBACrCD,EAAE9D,KAAK+D,cAAcC,SAAS1B,EAAMyB,oBAE5C,CAACzB,EAAOuB,IUdqBI,CAAStF,EAAOyD,EAAOxD,KAAMwD,EAAOE,OAE9D4B,EAAS,uCAAG,4BAAAnF,EAAA,6DAChB4E,GAAa,GADG,SAEGtF,EAAY8F,SAFf,OAEVlE,EAFU,OAGhBsD,EAAStD,GACT0D,GAAa,GAJG,2CAAH,qDAgBf,OAFAS,qBAAU,kBAAMF,MAAa,IAG3B,sBAAK5E,UAAU,MAAf,UACE,cAAC,EAAD,CAAU8B,MAAO,CAACmB,UAAW,IAAK9B,QAAS,SAAAF,GAAC,OAAGkD,GAAS,IAAxD,iFACA,cAAC,EAAD,CAAShB,QAASe,EAAOd,WAAYe,EAArC,SACE,cAAC,EAAD,CAAU5D,OAZG,SAACc,GAClB4C,EAAS,GAAD,mBAAK5E,GAAL,CAAYgC,KACpB8C,GAAS,QAYP,cAAC,EAAD,CAAYrB,OAAQA,EAAQC,UAAWA,IAErCqB,EACE,cAAC,EAAD,IACD,cAAC,EAAD,CAAU1C,OAdE,SAACf,GAAD,OAAUsD,EAAS5E,EAAMyD,QAAO,SAAA0B,GAAC,OAAIA,EAAElD,KAAOX,EAAKW,QAcjCjC,MAAOiF,QC3C9CS,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.12b586a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__2h8q5\",\"myModalContent\":\"MyModal_myModalContent__oRxSL\",\"active\":\"MyModal_active__3Azo7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"MyLoader_loader__-1ZsY\",\"rotate\":\"MyLoader_rotate__1EXwU\",\"loaderWraper\":\"MyLoader_loaderWraper__1TAES\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInp\":\"MyInput_myInp__1gGur\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__2LuSg\"};","import axios from 'axios'\r\n\r\nexport default class PostService {\r\n\tstatic async getAll() {\r\n\t\tconst respond = await axios.get('https://jsonplaceholder.typicode.com/posts')\r\n\t\treturn respond.data\r\n\t}\r\n}","import { useMemo } from 'react'\r\n\r\nconst sortPost = (arr, sort) => {\r\n  arr.sort((a,b) => {\r\n  if(typeof a[sort] === 'number' && typeof b[sort] === 'number')\r\n    return a[sort] - b[sort]\r\n  return String(a[sort]).localeCompare(String(b[sort]))\r\n  })\r\n\r\n  return arr\r\n}\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if(sort){  \r\n      return sortPost([...posts], sort)\r\n    }\r\n        \r\n    return posts\r\n  }, [sort, posts])\r\n\r\n  return sortedPosts\r\n} \r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n\r\n    const sortedPosts = useSortedPosts(posts, sort)\r\n\r\n    const sortedAndSearchedPosts = useMemo(() => {\r\n    return sortedPosts.filter((p) => {\r\n      return p.title.toLowerCase().includes(query.toLowerCase()) || \r\n             p.body.toLowerCase().includes(query.toLowerCase())\r\n    })\r\n  }, [query, sortedPosts])\r\n\r\n\r\n  return sortedAndSearchedPosts\r\n}","import React from 'react'\r\nimport classes from './MyInput.module.css'\r\n\r\nconst MyInput = (props) =>{ \r\n  return (\r\n    <input className={classes.myInp} {...props}/>\r\n  );\r\n};\r\n\r\nexport default MyInput","import React from 'react'\r\nimport classes from './MyButton.module.css'\r\n\r\nconst MyButton = ({children, ...props}) =>{ \r\n  return (\r\n    <button {...props} className={classes.myBtn}>\r\n      {children} \r\n    </button>\r\n  );\r\n};\r\n\r\nexport default MyButton","import React, { useState } from 'react'\r\nimport MyInput from './UI/Input/MyInput'\r\nimport MyButton from './UI/Button/MyButton'\r\n\r\nconst PostFrom = ({create}) => {\r\n\r\n  const [post, setPost] = useState({title: '', body: '',});\r\n\r\n  const addNewPost = (e) => {\r\n    e.preventDefault()\r\n    const newPost = {\r\n      ...post, id: Date.now()\r\n    }\r\n    create(newPost)\r\n    setPost({title: '', body: '',})\r\n  }\r\n\r\n  return (\r\n<form>\r\n        <MyInput \r\n          value={post.title} \r\n          type=\"text\" \r\n          placeholder=\"Название\"\r\n          onChange={e => setPost({...post, title: e.target.value})}\r\n        />\r\n        <MyInput  \r\n          value={post.body}\r\n          onChange={e => setPost({...post, body: e.target.value})}\r\n          type=\"text\" \r\n          placeholder=\"Описание\" \r\n        />\r\n        <MyButton onClick={addNewPost}>Добавить</MyButton>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PostFrom\r\n","import React from 'react';\r\nimport MyButton from './UI/Button/MyButton';\r\n\r\nconst PostItem = ({remove, post, number}) =>{ \r\n    return (\r\n      <div>\r\n        <div className=\"post\">\r\n          <div className=\"post_content\">\r\n          <strong> {post.id}. {post.title}</strong>\r\n            <div>\r\n              {post.body}\r\n            </div>\r\n          </div>\r\n          <div className=\"post_btns\">\r\n          <MyButton onClick={() => remove(post)}>X</MyButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default PostItem","import PostItem from './PostItem';\r\nimport {TransitionGroup, CSSTransition} from 'react-transition-group'\r\n\r\nconst PostList = ({posts, remove}) =>{ \r\n\r\n    if(!posts.length) {\r\n      return <h2 style={{textAlign: 'center'}}>Посты не найдены</h2>\r\n    }\r\n    return (\r\n      <div>\r\n        <h1 style={{textAlign: 'center'}}>Список постов</h1>\r\n        <TransitionGroup>\r\n        {posts.map((post, index) => \r\n          <CSSTransition\r\n            key={post.id}\r\n            timeout={500}\r\n            classNames=\"post\"\r\n          >\r\n            <PostItem remove={remove} number={index+1} post={post}/>\r\n          </CSSTransition>\r\n        )}\r\n        </TransitionGroup>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default PostList","import React from 'react'\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n  return (\r\n    <select \r\n      value={value}\r\n      onChange={event => onChange(event.target.value)}  \r\n    >\r\n      <option disabled>{defaultValue}</option>\r\n      {options.map((option) => <option key={option.value} value={option.value}>{option.name}</option>)}\r\n\r\n    </select>\r\n  )\r\n\r\n}\r\n\r\nexport default MySelect\r\n","import React from 'react'\r\nimport MyInput from './UI/Input/MyInput'\r\nimport MySelect from './UI/Select/MySelect'\r\n\r\n\r\nconst PostFilter = ({filter, setFilter}) => {\r\n  return (\r\n    <div>\r\n      <MyInput\r\n        value={filter.query}\r\n        placeholder=\"Поиск\"\r\n        onChange={e => setFilter({...filter, query: e.target.value})}\r\n      />\r\n      <hr style={{marginTop: '15px'}} />\r\n      <MySelect\r\n        defaultValue=\"Сортировка\"\r\n        value={filter.sort}\r\n        onChange={sort => setFilter({...filter, sort: sort})}\r\n        options={[\r\n          {value: 'id', name: 'ID'},\r\n          {value: 'title', name: 'Заголовок'},\r\n          {value: 'body', name: 'Описание'}\r\n        ]}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default PostFilter\r\n","import React from 'react'\r\nimport classes from './MyModal.module.css'\r\n\r\n\r\nconst MyModal = ({children, visible, setVisible}) => {\r\n\r\n  const rootClasses = [classes.myModal]\r\n  if(visible) {\r\n    rootClasses.push(classes.active)\r\n  }\r\n  return (\r\n    <div onClick={e => setVisible(false)} className={rootClasses.join(' ')}>\r\n     <div onClick={e => e.stopPropagation()}  className={classes.myModalContent}>\r\n       {children}\r\n     </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyModal","import React from 'react'\r\nimport cl from './MyLoader.module.css'\r\n\r\nconst MyLoader = () => {\r\n\treturn (\r\n\t\t<div className={cl.loaderWraper}>\r\n\t\t\t<div className={cl.loader}></div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MyLoader","import React, { useState, useEffect } from 'react'\r\nimport PostService from './API/PostService'\r\nimport {usePosts} from './hooks/usePosts'\r\nimport PostFrom from './components/PostFrom'\r\nimport PostList from './components/PostList'\r\nimport PostFilter from './components/PostFilter'\r\nimport MyModal from './components/UI/Modal/MyModal'\r\nimport MyButton from './components/UI/Button/MyButton'\r\nimport MyLoader from './components/UI/Loader/MyLoader'\r\n\r\n\r\nimport \"./styles/App.css\"\r\n\r\nfunction App() {\r\n  const [posts, setPosts] = useState([])\r\n  const [filter, setFilter] = useState({sort: '', query: ''})\r\n  const [modal, setModal] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const sortedAndSearchedPosts =  usePosts(posts, filter.sort, filter.query)\r\n\r\n  const fetchPost = async () => {\r\n    setIsLoading(true)\r\n    const post = await PostService.getAll()\r\n    setPosts(post)\r\n    setIsLoading(false)\r\n  }\r\n  \r\n\r\n  const createPost = (newPost) =>  {\r\n    setPosts([...posts, newPost])\r\n    setModal(false)\r\n  }\r\n  const removePost = (post) => setPosts(posts.filter(p => p.id !== post.id))\r\n  \r\n  useEffect(() => fetchPost(), [])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <MyButton style={{marginTop: 20}} onClick={e=> setModal(true)}>Создать Пост</MyButton>\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <PostFrom create={createPost}/>\r\n      </MyModal>\r\n      <PostFilter filter={filter} setFilter={setFilter}/>\r\n      {\r\n        isLoading\r\n        ? <MyLoader/>\r\n        :<PostList remove={removePost} posts={sortedAndSearchedPosts}/>\r\n      }\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}